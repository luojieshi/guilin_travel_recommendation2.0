import random


def generate_coherent_recommendation(selected_types):
    # 景点类型与推荐理由的映射，每种类型有多条理由
    reasons = {
        "现代风情": [
            "体验最前沿的城市文化和现代艺术，感受城市的创新精神和艺术的前瞻性，从而更好地理解当代艺术的发展趋势。",
            "探索充满活力的城市生活和现代建筑，欣赏建筑设计的精妙和都市的节奏，同时体验城市夜生活的多彩多姿。",
            "参与现代生活方式的尝试和体验，包括高科技的互动展览和数字艺术，亲身体验科技如何改变艺术和日常生活。",
            "感受城市中的时尚潮流和国际品牌，享受购物和美食的现代化体验，发现新兴设计师和品牌带来的创新创意。"
        ],
        "历史风情": [
            "深入了解地区的历史背景和文化遗产，探访历史悠久的地标和博物馆，通过古迹和展品近距离感受历史的厚重。",
            "探索古代文明的遗迹，感受历史的沉淀，通过解读古文化遗址和历史事件，提升对该地区过去的理解和认识。",
            "参观具有重要历史意义的建筑和纪念地，通过专业解说增进对地区历史发展和文化变迁的深入了解。",
            "体验传统节庆和历史重现活动，通过亲身参与和观察，学习和体验历史上重要的社会习俗和生活方式。"
        ],
        "当地特色": [
            "探索独特的地方风情和特色美食，通过参与当地的市场和节庆活动，亲身体验地区的民俗和饮食文化。",
            "体验地区特有的传统活动和节庆，通过观看和参与传统节目和庆典，了解地方文化的独特之处和历史背景。",
            "访问当地的手工艺工坊和农贸市场，学习传统手工艺技术，品尝地方特产，深入了解当地生活方式。",
            "参与地方独有的文化体验活动，如民族舞蹈、音乐会和工艺展示，全面了解地区文化的多样性和丰富性。"
        ],
        "博物馆": [
            "丰富知识，欣赏珍贵的历史藏品，通过专业讲解和互动展示深入了解艺术品、历史文物的背后故事。",
            "探索科学、艺术与历史的交汇点，参观多功能的展览和主题展，了解不同领域之间的联系和影响。",
            "体验通过现代技术呈现的历史和文化，例如虚拟现实(VR)和增强现实(AR)展览，使学习过程更加生动有趣。",
            "参与博物馆举办的教育活动和研讨会，与专家和其他访客交流看法，扩展个人视野和学术网络。"
        ],
        "动物园": [
            "近距离观察多种珍稀动物，适合家庭游玩，通过动物园的教育项目了解动物的生活习性和生态系统。",
            "了解动物保护和生物多样性的重要性，参加动物园举办的保护教育活动，认识到人类在生态保护中的作用和责任。",
            "体验与动物互动的机会，如喂食和触摸体验，增进对动物行为和习性的直观了解。",
            "探索动物园内的特色展区，如热带雨林区或冰原区，体验不同气候带来的独特动植物展示。"
        ],
        "游乐中心": [
            "享受刺激的娱乐设施，适合亲子和朋友，体验过山车、旋转木马等各种游乐设施带来的兴奋和乐趣。",
            "体验各种刺激游乐设施和娱乐活动，参与电子游戏馆、虚拟现实体验等现代娱乐方式，享受技术和娱乐的结合。",
            "参加游乐中心组织的特色活动和表演，如魔术表演、马戏团和主题派对，丰富休闲和娱乐体验。",
            "在游乐中心的水上乐园享受水上滑梯和波浪池带来的清凉乐趣，适合夏季消暑和家庭亲子活动。"
        ],
        "历史伟人": [
            "了解影响地区乃至世界的历史人物，通过参观其故居、纪念馆，深入学习这些伟人如何塑造历史进程和社会变革。",
            "从伟人故事中汲取灵感和力量，通过详细的展览和互动体验，感受其一生的重要事件和作出的贡献。",
            "参与由历史人物启发的讲座和研讨会，与专家和历史学者一起探讨其影响力和遗产的持续意义。",
            "探访历史伟人在地方上的影响和贡献，通过城市的历史遗迹和地标深入理解其时代背景和生活环境。"
        ],
        "当地公园": [
            "亲近自然，享受宁静的户外环境，通过散步或骑行在公园的绿道上，体验自然之美和季节变换的魅力。",
            "进行户外运动，改善健康，参加公园组织的健身和瑜伽课程，提高身心健康和生活质量。",
            "探索当地公园的自然生态和野生动植物，通过参加自然观察和生态教育活动，增加对生物多样性的了解和尊重。",
            "享受公园内提供的文化和娱乐活动，如户外音乐会、电影之夜和季节性节日庆典，加深社区归属感和文化体验。"
        ],
        "植物园": [
            "欣赏各种珍奇植物，体验大自然的美丽，通过有导览的园林行走，了解植物的科学知识和生态价值。",
            "了解植物科学，参与生态保护教育，通过参加工作坊和讲座，学习植物对环境保护和生态系统的贡献。",
            "体验园艺活动和花卉展示，通过亲自参与园艺工作坊，学习园艺技能和花卉养护知识。",
            "探索植物园中的各种生态系统，从热带雨林到沙漠植被，增广见闻，理解全球植物多样性。"
        ],
        "国内名校": [
            "参观顶尖学府，感受学术氛围，通过参加开放日或学生引导的校园之旅，深入了解其教育哲学和学术成就。",
            "了解校园历史，与在校学生交流，通过参与讲座和研讨会，体验学术交流的氛围和知识的力量。",
            "参与校园内的文化和艺术活动，如美术馆展览、音乐会和戏剧表演，感受学术社区的文化多样性。",
            "探访图书馆和科研设施，了解顶尖高校在科学研究和技术创新方面的先进设施和贡献。"
        ],
        "购物中心": [
            "体验购物乐趣，探索当地及国际品牌，通过最新的零售技术和服务，享受便捷和愉悦的购物体验。",
            "享受购物和休闲的一站式体验，结合多功能的娱乐设施，如电影院、美食广场和儿童游乐区，满足全家人的需求。",
            "探索购物中心的时尚前沿，参与时装秀和品牌发布会，获取最新的时尚趋势和造型灵感。",
            "体验节假日和特殊活动的购物优惠，利用特卖会和节日促销活动，获得物超所值的购物体验。"
        ],
        "当地剧院": [
            "欣赏地方戏剧和表演艺术，通过观看传统和现代剧目的融合，体验当地文化的独特魅力和艺术表现。",
            "体验当地文化的独特魅力，通过参与互动式戏剧和现场表演，深入了解地区的语言和社会习俗。",
            "探索地方艺术的发展历程，通过专题展览和导览活动，了解当地剧院的历史和对社会的影响。",
            "参加剧院组织的工作坊和讲座，与演员和导演互动，学习戏剧制作的幕后技巧和艺术创作过程。"
        ],
        "当地古镇": [
            "探访保存完好的古建筑和传统生活方式，通过参与古镇的日常活动，体验古镇的宁静和历史的厚重。",
            "体验古镇的宁静和历史的厚重，通过专门的文化节或重现古代节庆活动，感受历史的穿越与重现。",
            "了解古镇的历史演变和文化传承，通过参观当地博物馆和艺术工坊，深入了解地区的工艺和艺术。",
            "参与古镇的手工艺体验和食品制作工坊，学习传统技艺，如陶瓷制作、织布或传统烹饪方法。"
        ],
        "红色文化": [
            "了解该地区的革命历史和文化，通过访问革命遗址和纪念馆，深入学习重要的历史事件和人物。",
            "参观重要的历史遗址和纪念馆，通过互动展览和专家讲解，感受那个时代的激情和斗争。",
            "探索革命历史的深层影响，通过参与主题研讨会和讲座，了解这段历史对现代社会的影响和意义。",
            "参加纪念活动和重现演出，体验历史事件的再现，增强对革命文化遗产的认识和尊重。"
        ],
        "体育公园": [
            "参与各种体育活动，享受健康生活，通过现场体育课程和友谊赛事，提升身体健康和团队合作能力。",
            "观看体育比赛，感受竞技的激情，通过参与大型体育赛事和比赛，体验激烈竞争和运动员的奋斗。",
            "探索体育公园的多功能设施，通过使用专业的体育设备和参加定期的健身训练，改善个人体能和健康状态。",
            "参加体育健康教育课程，通过学习体育理论和实践技能，增加对体育运动科学的理解和兴趣。"
        ],
        "宗教圣地": [
            "感受宗教的神圣与庄严，探索信仰的深度，通过参观重要的宗教场所和圣地，体验精神的洗礼和平静。",
            "体验宗教建筑的壮观和艺术价值，通过详细的导览和专家解读，欣赏宗教艺术和建筑的精细工艺。",
            "参与宗教仪式和节庆活动，通过亲身体验和观察，深入了解宗教文化的丰富性和社区的精神生活。",
            "探访宗教学院和教育设施，通过与宗教领袖和学者的交流，增进对宗教哲学和教义的理解。"
        ]
    }

    # 根据用户选择生成推荐理由
    recommendations = []
    for t in selected_types:
        if t in reasons:
            # 从每种类型的理由中随机选择一个
            reason = random.choice(reasons[t])
            recommendations.append(reason)

    # 将所有选中的推荐理由合并成一段连贯的文本
    final_text = "基于您的选择，您将："
    if recommendations:
        final_text += " ".join(recommendations)
    else:
        final_text += "很多精彩的活动和景点。"

    return final_text

# # 用户选择的景点类型示例
# selected_types = ["历史风情", "动物园", "国内名校"]
# recommendations = generate_coherent_recommendation(selected_types)
# print(recommendations)
